"use strict";(function(a){function b(a,b){var c={subpath:"sportydesk"};if(!a||!1)return c;for(var d=c,e=0,a=a.split("."),f=a.length;e<f;e++)if(d=d[a[e]],void 0===d)return b;return d}if(!a.pleasedHelpLoaded){var c=!1,d=function(){return c||/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},e={border:"none",background:"white","z-index":9999,transform:"translateZ(0px)",position:"fixed","transition-duration":"250ms","transition-timing-function":"cubic-bezier(0.645, 0.045, 0.355, 1)","transition-property":"opacity,top, bottom",opacity:1,width:"100%","max-width":"100%",height:"100%",margin:"0px",left:"0px",top:"0px",display:"none"},f={border:"none",background:"transparent","z-index":9999,transform:"translateZ(0px)",position:"fixed","transition-duration":"250ms","transition-timing-function":"cubic-bezier(0.645, 0.045, 0.355, 1)","transition-property":"opacity,top, bottom",opacity:1,width:"342px","max-width":"100%",height:"500px",margin:"0px",right:"16px",bottom:"16px",display:"none"},g="",h="",i="",j="",k="",l=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:config,c=a.domain,e=a.articleId;g=c,h="".concat(g,"/",b("subpath","sportydesk"),"/m/index.html"),i="".concat(h,"/#/?platform=").concat(d()?"wap":"web","&version=1&t=").concat(+new Date),j="".concat(h,"/#/myrequest?platform=").concat(d()?"wap":"web","&t=").concat(+new Date),k="".concat(h,"/#/article/").concat(e,"?platform=").concat(d()?"wap":"web","&t=").concat(+new Date)},m=null,n=function(){},o=function(a){var b=a.period,c=a.open;return c?void(d()?(m.style.inset="inherit",m.style.height="100%",m.style.width="100%",m.style.bottom="0",m.style.right="0",m.style.background="white"):(m.style.inset="inherit",m.style.height="500px",m.style.width="342px",m.style.bottom="16px",m.style.right="16px")):void(m.style.inset="inherit",m.style.bottom="120px",m.style.right="24px",m.style.background="transparent",m.style.height=d()?"43px":"48px",m.style.width=d()?"43px":"48px")},p=function(b){n=function(c){if("SPORTY_DESK"===c.data.appName){var e=c.data.eventType;switch(e){case"INIT":{b.init();break}case"LOGIN":{var f=c.data.data,g=f.username,h=f.password;b.login({username:g,password:h});break}case"LOGIN_POP":{b.loginPop();break}case"CLOSE":{a.pleased.hide(),m.parentNode.removeChild(m),m=null,d()&&a.history.go(-1),r(),a.pleasedHelpLoaded=!1;break}case"MINIMIZE":{o(c.data.data);break}case"NEW_MESSAGE":break;case"CLEAR_FLOAT":break;default:}}},a.addEventListener("message",n,!1)},q=function(){if(d()&&a.history&&a.history.pushState){var b=d()?"support":"#support";a.history.pushState("forward",null,b);var c=function b(){m&&m.style&&"none"===m.style.display&&d()||(m&&m.style&&"none"!==m.style.display&&a.pleased.hide(),a.pleasedHelpLoaded=!1,r(),a.removeEventListener("popstate",b))};a.addEventListener("popstate",c)}},r=function(){a.removeEventListener("message",n)};a.pleased={sendToPleased:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.eventType,c=a.data;m.contentWindow&&m.contentWindow.postMessage({appName:"SPORTY_BET",eventType:b,data:c},g)},load:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g){var h=b.callbacks,n=b.myRequest,r=b.domain,s=b.directLink,t=b.articleId,u=b.open;if(a.pleasedHelpLoaded)return u&&a.pleased.sendToPleased({eventType:"OPEN",data:{open:!0}}),void g();if(a.pleasedHelpLoaded=!0,c=s,!h.init)return console.error("[PLS] INIT callback is required"),void g();if(!r)return console.error("[PLS] domain param is required"),void g();l({domain:r,articleId:t});var v=document.getElementById("sporty_desk");if(v&&m&&"none"===m.style.display)return a.pleased.show(),q(),p(h),void g();m=document.createElement("iframe"),m.src=t?k:n?j:i,m.allow="camera;microphone",m.id="sporty_desk";var w=d()?e:f;Object.keys(w).forEach(function(a){m.style[a]=w[a]}),document.querySelector("body").appendChild(m),q(),p(h),m.onload=function(){m.style.display="block",u||o({}),m.onload=null,g()}})},myRequest:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};a.pleased.load({...b,myRequest:!0})},hide:function(){m&&(m.style.display="none")},show:function(){m&&(m.style.display="block")}}}})(window);